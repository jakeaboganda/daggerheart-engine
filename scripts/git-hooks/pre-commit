#!/usr/bin/env bash
# Git pre-commit hook for Daggerheart Engine
# 
# To install:
#   cp scripts/git-hooks/pre-commit .git/hooks/pre-commit
#   chmod +x .git/hooks/pre-commit
#
# To bypass: git commit --no-verify

echo "Running pre-commit checks..."

# Run the quick CI script
./scripts/ci-quick.sh

# Capture exit code
EXIT_CODE=$?

if [ $EXIT_CODE -ne 0 ]; then
    echo ""
    echo "❌ Pre-commit checks failed!"
    echo ""
    echo "Fix the issues above, or bypass with: git commit --no-verify"
    echo ""
    exit 1
fi

echo ""
echo "✅ Pre-commit checks passed!"
echo ""
exit 0
